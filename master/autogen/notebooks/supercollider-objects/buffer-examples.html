<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.18.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Buffer — sc3nb  documentation</title>
<link href="../../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/graphviz.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/nbsphinx-code-cells.css" rel="stylesheet" type="text/css"/>
<link href="../../../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script src="../../../_static/jquery.js?v=5d32c60e"></script>
<script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
<script src="../../../_static/doctools.js?v=888ff710"></script>
<script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
<script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
<script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../../_static/js/theme.js"></script>
<link href="../../../genindex.html" rel="index" title="Index"/>
<link href="../../../search.html" rel="search" title="Search"/>
<link href="bus-examples.html" rel="next" title="Bus"/>
<link href="synthdef-examples.html" rel="prev" title="SynthDef"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../../index.html">
            sc3nb
          </a>
<div class="version">
                1.1.0^0
              </div>
<div role="search">
<form action="../../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">README &amp; Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../info.html">How does this work?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../support.html">Support, Caveats and Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources.html">Useful Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CHANGELOG.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sc3nb-examples.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sclang-examples.html">Usage of sclang in sc3nb</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../supercolliderobjects.html">SuperCollider objects</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="server-examples.html">Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="node-examples.html">Nodes (Synth and Group)</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthdef-examples.html">SynthDef</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Buffer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Create-Buffer-from-a-numpy.Array">Create Buffer from a numpy.Array</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Create-Buffer-with-data-from-PyA-Asig">Create Buffer with data from PyA Asig</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Create-Buffer-of-.wav-File">Create Buffer of .wav File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Allocate-an-empty-Buffer">Allocate an empty Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Reuse-an-existing-SC-buffer">Reuse an existing SC buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Copy-an-existing-SC-buffer">Copy an existing SC buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Play-Buffer">Play Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Write-Buffer-content-to-file">Write Buffer content to file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Fetch-Buffer-content-to-array">Fetch Buffer content to array</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Fill-Buffer-with-values">Fill Buffer with values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Fill-a-Buffer-with-zeros:">Fill a Buffer with zeros:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fill-a-Buffer-range-with-values:">Fill a Buffer range with values:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fill-Buffer-with-sine-wave-harmonics-of-given-amplitudes.">Fill Buffer with sine wave harmonics of given amplitudes.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fill-Buffer-with-sine-wave-partials-using-specified-frequencies-and-amplitudes.">Fill Buffer with sine wave partials using specified frequencies and amplitudes.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fill-Buffer-with-sinus-waves-and-given-frequency,-amplitude,-phase">Fill Buffer with sinus waves and given frequency, amplitude, phase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fill-Buffer-with-series-of-chebyshev-polynomials:">Fill Buffer with series of chebyshev polynomials:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Copy-data-of-another-Buffer:">Copy data of another Buffer:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Get-information-about-the-Buffer">Get information about the Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Free-Buffers">Free Buffers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bus-examples.html">Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="recorder-examples.html">Recorder</a></li>
<li class="toctree-l2"><a class="reference internal" href="score-examples.html">Score</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../osc-communication-examples.html">OSC communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../helper-examples.html">Helper functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timedqueue-examples.html">TimedQueue</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/sc3nb/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sc3nb</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../CONTRIBUTING.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CONTRIBUTORS.html">Contributors</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../../index.html">sc3nb</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../../../index.html"></a></li>
<li class="breadcrumb-item"><a href="../../../supercolliderobjects.html">SuperCollider objects</a></li>
<li class="breadcrumb-item active">Buffer</li>
<li class="wy-breadcrumbs-aside">
<a href="../../../_sources/autogen/notebooks/supercollider-objects/buffer-examples.nblink.txt" rel="nofollow"> View page source</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="admonition note">
<p>This page was generated from <a class="reference external" href="https://github.com/interactive-sonification/sc3nb/blob/6ce4908bb30aa28863249d6d61906e16ae5ee8e3/examples/supercollider-objects/buffer-examples.ipynb">examples/supercollider-objects/buffer-examples.ipynb</a>.</p>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># header / imports</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">sc3nb</span> <span class="k">as</span> <span class="nn">scn</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sc3nb</span> <span class="kn">import</span> <span class="n">Buffer</span>

<span class="n">example_file</span> <span class="o">=</span> <span class="s2">"../media/blip.wav"</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sc</span> <span class="o">=</span> <span class="n">scn</span><span class="o">.</span><span class="n">startup</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
if (typeof Jupyter !== 'undefined') {
                        Jupyter.keyboard_manager.command_shortcuts.add_shortcut(
                        'cmd-.', {
                        help : 'Free all nodes on SC server',
                        help_index : 'zz',
                        handler : function (event) {
                            IPython.notebook.kernel.execute(
                                "import sc3nb; sc3nb.SC.get_default().server.free_all(root=True)"
                            )
                            return true;}
                        });
                    }
</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting sclang process... [sclang | start reading ]
Done.
Registering OSC /return callback in sclang... Done.
Loading default sc3nb SynthDefs... Done.
Booting SuperCollider Server... [scsynth | start reading ]
Done.
</pre></div></div>
</div>
<section id="Buffer">
<h1>Buffer<a class="headerlink" href="#Buffer" title="Link to this heading"></a></h1>
<p>Buffer is the Python class in sc3nb to interface with Buffers on the SuperCollider server.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># uncomment following line to see help for the Buffer class:</span>
<span class="c1"># help(scn.Buffer)</span>
</pre></div>
</div>
</div>
<section id="Create-Buffer-from-a-numpy.Array">
<h2>Create Buffer from a numpy.Array<a class="headerlink" href="#Create-Buffer-from-a-numpy.Array" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">30000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf0</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">d0</span><span class="p">)</span>
<span class="n">buf0</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(128) on ('127.0.0.1', 57110): 1 x 30000 @ 44100 Hz = 0.680s allocated using mode 'data'&gt;
</pre></div></div>
</div>
<p>In this case a default buffer with default sample rate (44100) and default insert mode is created.</p>
<p>If you want to create a buffer with a specific sample rate or OSC insertion method, etc. look at <code class="docutils literal notranslate"><span class="pre">load_data</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.load_data<span class="o">?</span>
</pre></div>
</div>
</div>
<p>Attention: insertion via OSC is particularly useful for small datasets (e.g. less than 1000 entries). For larger datasets the default ‘file’ mode is much faster.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">30000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">buf1</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">d0</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">'osc'</span><span class="p">)</span>
<span class="n">buf1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(129) on ('127.0.0.1', 57110): 1 x 30000 @ 5000 Hz = 6.000s allocated using mode 'data'&gt;
</pre></div></div>
</div>
</section>
<section id="Create-Buffer-with-data-from-PyA-Asig">
<h2>Create Buffer with data from PyA Asig<a class="headerlink" href="#Create-Buffer-with-data-from-PyA-Asig" title="Link to this heading"></a></h2>
<p>This only works if using pya package: skip if you dont use pya</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">pya</span> <span class="kn">import</span> <span class="n">Ugen</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="n">Ugen</span><span class="p">()</span><span class="o">.</span><span class="n">sine</span><span class="p">(</span><span class="mi">440</span><span class="p">,</span> <span class="n">dur</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">fade_out</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="c1"># 1.0s sine tone of 440 Hz</span>
    <span class="n">a1</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
    <span class="n">buf1</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">load_asig</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
    <span class="n">buf1</span>
</pre></div>
</div>
</div>
<p>Again, default transport method is mode=’file’, i.e. using a temporary file and fill the buffer on sc with this content. * use mode=”osc” to select the direct transfer of data via OSC messages</p>
</section>
<section id="Create-Buffer-of-.wav-File">
<h2>Create Buffer of .wav File<a class="headerlink" href="#Create-Buffer-of-.wav-File" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf2</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">example_file</span><span class="p">)</span>
<span class="n">buf2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(130) on ('127.0.0.1', 57110): 2 x 43008 @ 44100 Hz = 0.975s allocated using mode 'file'&gt;
</pre></div></div>
</div>
<p>The buffer method will automatically read the sample reate of the file and set it to Buffer.sr</p>
<p>You can specify further arguments to <code class="docutils literal notranslate"><span class="pre">read</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.read<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">example_file</span><span class="p">,</span> <span class="n">starting_frame</span><span class="o">=</span><span class="mi">18000</span><span class="p">,</span> <span class="n">num_frames</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">buf</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(131) on ('127.0.0.1', 57110): 1 x 20000 @ 44100 Hz = 0.454s allocated using mode 'file'&gt;
</pre></div></div>
</div>
</section>
<section id="Allocate-an-empty-Buffer">
<h2>Allocate an empty Buffer<a class="headerlink" href="#Allocate-an-empty-Buffer" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf3</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mf">2.5</span><span class="o">*</span><span class="mi">44100</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">44100</span><span class="p">)</span>
<span class="n">buf3</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(132) on ('127.0.0.1', 57110): 1 x 110250 @ 44100 Hz = 2.500s allocated using mode 'alloc'&gt;
</pre></div></div>
</div>
</section>
<section id="Reuse-an-existing-SC-buffer">
<h2>Reuse an existing SC buffer<a class="headerlink" href="#Reuse-an-existing-SC-buffer" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Buffer.use_existing(bufnum)</span></code> will force the Buffer to (re-)use a buffer that already exists on the server, identified via its bufnum on the scsynth.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a Buffer in SuperCollider</span>
<span class="o">%</span><span class="k">sc</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Buffer.read<span class="o">(</span>s,<span class="w"> </span>Platform.resourceDir<span class="w"> </span>+/+<span class="w"> </span><span class="s2">"sounds/a11wlk01.wav"</span><span class="o">)</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-&gt; Buffer(0, nil, nil, nil, /Applications/SuperCollider.app/Contents/Resources/sounds/a11wlk01.wav)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bufnum</span> <span class="o">=</span> <span class="o">%</span><span class="k">sc</span>g<span class="w"> </span>b.bufnum
<span class="n">bufnum</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-&gt; 0
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf4</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span>
<span class="n">buf4</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(None) on ('127.0.0.1', 57110): None x None @ None Hz = 0.000s not loaded using mode 'none'&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf4</span><span class="o">.</span><span class="n">use_existing</span><span class="p">(</span><span class="n">bufnum</span><span class="p">)</span>
<span class="n">buf4</span> <span class="c1"># bufnum has now changed to be bufnum</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(0) on ('127.0.0.1', 57110): 1 x 188893 @ 44100 Hz = 4.283s allocated using mode 'existing'&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf4</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Synth(20001) 'sc3nb_playbuf_0' s {}&gt;
</pre></div></div>
</div>
</section>
<section id="Copy-an-existing-SC-buffer">
<h2>Copy an existing SC buffer<a class="headerlink" href="#Copy-an-existing-SC-buffer" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">copy_existing</span></code> allows to copy an already existing buffer into another buffer.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf5</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">example_file</span><span class="p">)</span>
<span class="n">buf6</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">copy_existing</span><span class="p">(</span><span class="n">buf5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This method will automatically use an intern SuperCollider copy method, if both buffer objects use the same sc instance. Otherwise the buffer will be loaded via filesystem. For this to happen, both sc instance should use the same filesystem.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">server2</span> <span class="o">=</span> <span class="n">scn</span><span class="o">.</span><span class="n">SCServer</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">scn</span><span class="o">.</span><span class="n">ServerOptions</span><span class="p">(</span><span class="n">udp_port</span><span class="o">=</span><span class="mi">57778</span><span class="p">))</span>
<span class="n">server2</span><span class="o">.</span><span class="n">boot</span><span class="p">(</span><span class="n">kill_others</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Booting SuperCollider Server... [scsynth | start reading ]
[scsynth]  Number of Devices: 2
[scsynth]     0 : "Built-in Microph"
[scsynth]     1 : "Built-in Output"
[scsynth]
[scsynth]  "Built-in Microph" Input Device
[scsynth]     Streams: 1
[scsynth]        0  channels 2
[scsynth]
[scsynth]  "Built-in Output" Output Device
[scsynth]     Streams: 1
[scsynth]        0  channels 2
[scsynth]
[scsynth]  SC_AudioDriver: sample rate = 44100.000000, driver's block size = 512
[scsynth]  SuperCollider 3 server ready.
Done.
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sc</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">dump_osc</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">server2</span><span class="o">.</span><span class="n">dump_osc</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf7</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="n">server2</span><span class="p">)</span><span class="o">.</span><span class="n">copy_existing</span><span class="p">(</span><span class="n">buf6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[scsynth]  [ "/b_allocReadChannel", 128, "/private/var/folders/g1/m1whjjvd7pq3yz_w9s0rj64r0000gn/T/tmp6i6my_e6", 0, -1, 0, 1 ]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/dreinsch/dev/soni/sc3nb/.tox/docs/lib/python3.10/site-packages/sc3nb/sc_objects/buffer.py:187: WavFileWarning: Chunk (non-data) not understood, skipping it.
  self._sr, data = wavfile.read(
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf5sig</span> <span class="o">=</span> <span class="n">buf5</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
<span class="n">buf6sig</span> <span class="o">=</span> <span class="n">buf6</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
<span class="n">buf7sig</span> <span class="o">=</span> <span class="n">buf7</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf5sig</span><span class="p">)</span> <span class="c1"># signal</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf6sig</span><span class="p">)</span> <span class="c1"># copied signal</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf7sig</span><span class="p">)</span> <span class="c1"># copied signal on other server</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf6sig</span><span class="o">-</span><span class="n">buf7sig</span><span class="p">);</span> <span class="c1"># difference (should be 0)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[scsynth]  [ "/b_getn", 128, 0, 1000 ]
[scsynth]  [ "/b_getn", 128, 1000, 1000 ]
[scsynth]  [ "/b_getn", 128, 2000, 1000 ]
[scsynth]  [ "/b_getn", 128, 3000, 1000 ]
[scsynth]  [ "/b_getn", 128, 4000, 1000 ]
[scsynth]  [ "/b_getn", 128, 5000, 1000 ]
[scsynth]  [ "/b_getn", 128, 6000, 1000 ]
[scsynth]  [ "/b_getn", 128, 7000, 1000 ]
[scsynth]  [ "/b_getn", 128, 8000, 1000 ]
[scsynth]  [ "/b_getn", 128, 9000, 1000 ]
[scsynth]  [ "/b_getn", 128, 10000, 1000 ]
[scsynth]  [ "/b_getn", 128, 11000, 1000 ]
[scsynth]  [ "/b_getn", 128, 12000, 1000 ]
[scsynth]  [ "/b_getn", 128, 13000, 1000 ]
[scsynth]  [ "/b_getn", 128, 14000, 1000 ]
[scsynth]  [ "/b_getn", 128, 15000, 1000 ]
[scsynth]  [ "/b_getn", 128, 16000, 1000 ]
[scsynth]  [ "/b_getn", 128, 17000, 1000 ]
[scsynth]  [ "/b_getn", 128, 18000, 1000 ]
[scsynth]  [ "/b_getn", 128, 19000, 1000 ]
[scsynth]  [ "/b_getn", 128, 20000, 1000 ]
[scsynth]  [ "/b_getn", 128, 21000, 1000 ]
[scsynth]  [ "/b_getn", 128, 22000, 1000 ]
[scsynth]  [ "/b_getn", 128, 23000, 1000 ]
[scsynth]  [ "/b_getn", 128, 24000, 1000 ]
[scsynth]  [ "/b_getn", 128, 25000, 1000 ]
[scsynth]  [ "/b_getn", 128, 26000, 1000 ]
[scsynth]  [ "/b_getn", 128, 27000, 1000 ]
[scsynth]  [ "/b_getn", 128, 28000, 1000 ]
[scsynth]  [ "/b_getn", 128, 29000, 1000 ]
[scsynth]  [ "/b_getn", 128, 30000, 1000 ]
[scsynth]  [ "/b_getn", 128, 31000, 1000 ]
[scsynth]  [ "/b_getn", 128, 32000, 1000 ]
[scsynth]  [ "/b_getn", 128, 33000, 1000 ]
[scsynth]  [ "/b_getn", 128, 34000, 1000 ]
[scsynth]  [ "/b_getn", 128, 35000, 1000 ]
[scsynth]  [ "/b_getn", 128, 36000, 1000 ]
[scsynth]  [ "/b_getn", 128, 37000, 1000 ]
[scsynth]  [ "/b_getn", 128, 38000, 1000 ]
[scsynth]  [ "/b_getn", 128, 39000, 1000 ]
[scsynth]  [ "/b_getn", 128, 40000, 1000 ]
[scsynth]  [ "/b_getn", 128, 41000, 1000 ]
[scsynth]  [ "/b_getn", 128, 42000, 1000 ]
[scsynth]  [ "/b_getn", 128, 43000, 1000 ]
[scsynth]  [ "/b_getn", 128, 44000, 1000 ]
[scsynth]  [ "/b_getn", 128, 45000, 1000 ]
[scsynth]  [ "/b_getn", 128, 46000, 1000 ]
[scsynth]  [ "/b_getn", 128, 47000, 1000 ]
[scsynth]  [ "/b_getn", 128, 48000, 1000 ]
[scsynth]  [ "/b_getn", 128, 49000, 1000 ]
[scsynth]  [ "/b_getn", 128, 50000, 1000 ]
[scsynth]  [ "/b_getn", 128, 51000, 1000 ]
[scsynth]  [ "/b_getn", 128, 52000, 1000 ]
[scsynth]  [ "/b_getn", 128, 53000, 1000 ]
[scsynth]  [ "/b_getn", 128, 54000, 1000 ]
[scsynth]  [ "/b_getn", 128, 55000, 1000 ]
[scsynth]  [ "/b_getn", 128, 56000, 1000 ]
[scsynth]  [ "/b_getn", 128, 57000, 1000 ]
[scsynth]  [ "/b_getn", 128, 58000, 1000 ]
[scsynth]  [ "/b_getn", 128, 59000, 1000 ]
[scsynth]  [ "/b_getn", 128, 60000, 1000 ]
[scsynth]  [ "/b_getn", 128, 61000, 1000 ]
[scsynth]  [ "/b_getn", 128, 62000, 1000 ]
[scsynth]  [ "/b_getn", 128, 63000, 1000 ]
[scsynth]  [ "/b_getn", 128, 64000, 1000 ]
[scsynth]  [ "/b_getn", 128, 65000, 1000 ]
[scsynth]  [ "/b_getn", 128, 66000, 1000 ]
[scsynth]  [ "/b_getn", 128, 67000, 1000 ]
[scsynth]  [ "/b_getn", 128, 68000, 1000 ]
[scsynth]  [ "/b_getn", 128, 69000, 1000 ]
[scsynth]  [ "/b_getn", 128, 70000, 1000 ]
[scsynth]  [ "/b_getn", 128, 71000, 1000 ]
[scsynth]  [ "/b_getn", 128, 72000, 1000 ]
[scsynth]  [ "/b_getn", 128, 73000, 1000 ]
[scsynth]  [ "/b_getn", 128, 74000, 1000 ]
[scsynth]  [ "/b_getn", 128, 75000, 1000 ]
[scsynth]  [ "/b_getn", 128, 76000, 1000 ]
[scsynth]  [ "/b_getn", 128, 77000, 1000 ]
[scsynth]  [ "/b_getn", 128, 78000, 1000 ]
[scsynth]  [ "/b_getn", 128, 79000, 1000 ]
[scsynth]  [ "/b_getn", 128, 80000, 1000 ]
[scsynth]  [ "/b_getn", 128, 81000, 1000 ]
[scsynth]  [ "/b_getn", 128, 82000, 1000 ]
[scsynth]  [ "/b_getn", 128, 83000, 1000 ]
[scsynth]  [ "/b_getn", 128, 84000, 1000 ]
[scsynth]  [ "/b_getn", 128, 85000, 1000 ]
[scsynth]  [ "/b_getn", 128, 86000, 16 ]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_38_1.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_38_1.svg"/></div>
</div>
<p>With this method, the complete buffer with all samples is copied. If you want to copy only a selection of samples, you can use <code class="docutils literal notranslate"><span class="pre">gen_copy()</span></code> (see below).</p>
</section>
<section id="Play-Buffer">
<h2>Play Buffer<a class="headerlink" href="#Play-Buffer" title="Link to this heading"></a></h2>
<p>If you want to listen to the buffer, you can use <code class="docutils literal notranslate"><span class="pre">play</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mi">440</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">44100</span><span class="p">)</span><span class="o">**</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">buf8</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">playbuf_synth</span> <span class="o">=</span> <span class="n">buf8</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
<span class="n">playbuf_synth</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Synth(20002) 'sc3nb_playbuf_135' s {}&gt;
</pre></div></div>
</div>
<p>As you can see <code class="docutils literal notranslate"><span class="pre">play()</span></code> returns an sc3nb Synth object for the Buffer.</p>
<p>This allows to control the playback via the synth class while the synth is running.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">playbuf_synth</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">playbuf_synth</span><span class="o">.</span><span class="n">freed</span><span class="p">:</span> <span class="c1"># stop the playback if not done already</span>
    <span class="n">playbuf_synth</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
    <span class="n">playbuf_synth</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">playbuf_synth</span> <span class="o">=</span> <span class="n">buf8</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">rate</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">amp</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">pan</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># play at given rate and pan</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">playbuf_synth</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># wait for synth to finish</span>
</pre></div>
</div>
</div>
<p>You can get a description of the possible arguments with</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scn</span><span class="o">.</span><span class="n">SynthDef</span><span class="o">.</span><span class="n">get_description</span><span class="p">(</span><span class="n">playbuf_synth</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{'out': SynthArgument(name='out', rate='control', default=0.0),
 'bufnum': SynthArgument(name='bufnum', rate='control', default=135.0),
 'rate': SynthArgument(name='rate', rate='control', default=1.0),
 'loop': SynthArgument(name='loop', rate='control', default=0.0),
 'pan': SynthArgument(name='pan', rate='control', default=0.0),
 'amp': SynthArgument(name='amp', rate='control', default=0.30000001192092896)}
</pre></div></div>
</div>
<p>and even can see the SynthDef here:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf8</span><span class="o">.</span><span class="n">_synth_def</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
SynthDef('sc3nb_playbuf_135',
            { |out=0, bufnum=^bufnum, rate=^rate, loop=^loop, pan=^pan, amp=^amp |
                    var sig = PlayBuf.ar(^num_channels, bufnum,
                        rate*BufRateScale.kr(bufnum),
                        loop: loop,
                        doneAction: Done.freeSelf);
                    Out.ar(out, Pan2.ar(sig, pan, amp))
            })
</pre></div></div>
</div>
<p>You can get a description of the possible arguments with</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scn</span><span class="o">.</span><span class="n">SynthDef</span><span class="o">.</span><span class="n">get_description</span><span class="p">(</span><span class="n">playbuf_synth</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{'out': SynthArgument(name='out', rate='control', default=0.0),
 'bufnum': SynthArgument(name='bufnum', rate='control', default=135.0),
 'rate': SynthArgument(name='rate', rate='control', default=1.0),
 'loop': SynthArgument(name='loop', rate='control', default=0.0),
 'pan': SynthArgument(name='pan', rate='control', default=0.0),
 'amp': SynthArgument(name='amp', rate='control', default=0.30000001192092896)}
</pre></div></div>
</div>
<p>As you can see the SC synth will free itself when done if you are not using the loop argument.</p>
<p>However with loop enabled you need to free the synth manually.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">synth</span> <span class="o">=</span> <span class="n">buf8</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">rate</span><span class="o">=-</span><span class="mi">4</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># play looped</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">synth</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># change controls as needed</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">synth</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Synth(20002) 'sc3nb_playbuf_135' f {'rate': 1, 'loop': 1, 'pan': 0, 'amp': 0.3}&gt;
</pre></div></div>
</div>
<p>For more information regarding the Synth class, please refer to the <a class="reference internal" href="node-examples.html"><span class="doc">Node guide</span></a>.</p>
</section>
<section id="Write-Buffer-content-to-file">
<h2>Write Buffer content to file<a class="headerlink" href="#Write-Buffer-content-to-file" title="Link to this heading"></a></h2>
<p>Write the content of a buffer into a file. By default it is a .wav File with float as sample. You can change it via parameters “header” and “sample”.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf9</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf9</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"../media/output.wav"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(136) on ('127.0.0.1', 57110): 1 x 10000 @ 44100 Hz = 0.227s allocated using mode 'data'&gt;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !ls -la ../media # uncomment if your shell offers ls</span>
</pre></div>
</div>
</div>
</section>
<section id="Fetch-Buffer-content-to-array">
<h2>Fetch Buffer content to array<a class="headerlink" href="#Fetch-Buffer-content-to-array" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a buffer</span>
<span class="n">buf2</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">example_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">buf2</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_67_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_67_0.svg"/></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf2</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">rate</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Synth(20003) 'sc3nb_playbuf_137' s {}&gt;
</pre></div></div>
</div>
</section>
<section id="Fill-Buffer-with-values">
<h2>Fill Buffer with values<a class="headerlink" href="#Fill-Buffer-with-values" title="Link to this heading"></a></h2>
<section id="Fill-a-Buffer-with-zeros:">
<h3>Fill a Buffer with zeros:<a class="headerlink" href="#Fill-a-Buffer-with-zeros:" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.zero<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">buf</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_72_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_72_0.svg"/></div>
</div>
</section>
<section id="Fill-a-Buffer-range-with-values:">
<h3>Fill a Buffer range with values:<a class="headerlink" href="#Fill-a-Buffer-range-with-values:" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.fill<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_75_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_75_0.svg"/></div>
</div>
<p>Alternatively: fill buffer with single fill statement using multiple value triplets</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span><span class="o">.</span><span class="n">fill</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">8000</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">8000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_77_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_77_0.svg"/></div>
</div>
</section>
<section id="Fill-Buffer-with-sine-wave-harmonics-of-given-amplitudes.">
<h3>Fill Buffer with sine wave harmonics of given amplitudes.<a class="headerlink" href="#Fill-Buffer-with-sine-wave-harmonics-of-given-amplitudes." title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.gen_sine1<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">.</span><span class="n">gen_sine1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_80_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_80_0.svg"/></div>
</div>
</section>
<section id="Fill-Buffer-with-sine-wave-partials-using-specified-frequencies-and-amplitudes.">
<h3>Fill Buffer with sine wave partials using specified frequencies and amplitudes.<a class="headerlink" href="#Fill-Buffer-with-sine-wave-partials-using-specified-frequencies-and-amplitudes." title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.gen_sine2<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">gen_sine2</span><span class="p">([[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_83_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_83_0.svg"/></div>
</div>
</section>
<section id="Fill-Buffer-with-sinus-waves-and-given-frequency,-amplitude,-phase">
<h3>Fill Buffer with sinus waves and given frequency, amplitude, phase<a class="headerlink" href="#Fill-Buffer-with-sinus-waves-and-given-frequency,-amplitude,-phase" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.gen_sine3<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">gen_sine3</span><span class="p">(</span>
    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_86_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_86_0.svg"/></div>
</div>
</section>
<section id="Fill-Buffer-with-series-of-chebyshev-polynomials:">
<h3>Fill Buffer with series of chebyshev polynomials:<a class="headerlink" href="#Fill-Buffer-with-series-of-chebyshev-polynomials:" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.gen_cheby<span class="o">?</span>
</pre></div>
</div>
</div>
<p><span class="math notranslate nohighlight">\(\textrm{cheby}(n) = \textrm{amplitude} \cdot \cos(n \cdot \arccos(x))\)</span></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="n">ch</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">ch</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">buf</span><span class="o">.</span><span class="n">gen_cheby</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">to_array</span><span class="p">(),</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_90_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_90_0.svg"/></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">gen_sine1</span></code> to <code class="docutils literal notranslate"><span class="pre">gen_sine3</span></code> and <code class="docutils literal notranslate"><span class="pre">gen_cheby</span></code> have the optional parameters: * <strong>normalize</strong>: Normalize peak amplitude of wave to 1.0. * <strong>wavetable</strong>: If set, then the buffer is written in wavetable format so that it can be read by interpolating oscillators. * <strong>clear</strong>: if set then the buffer is cleared before new partials are written into it. Otherwise the new partials are summed with the existing contents of the buffer.</p>
</section>
<section id="Copy-data-of-another-Buffer:">
<h3>Copy data of another Buffer:<a class="headerlink" href="#Copy-data-of-another-Buffer:" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>scn.Buffer.gen_copy<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf1</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf1</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
<span class="n">buf2</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span><span class="o">.</span><span class="n">gen_sine1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.2</span><span class="p">])</span>

<span class="c1"># copy samples 0..0+400 of buf2 into buf1 at position 2++</span>
<span class="n">buf1</span><span class="o">.</span><span class="n">gen_copy</span><span class="p">(</span><span class="n">buf2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf1</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>

<span class="c1"># copy samples 250..end(=&lt;0) of buf2 into buf1 at position 250++</span>
<span class="n">buf1</span><span class="o">.</span><span class="n">gen_copy</span><span class="p">(</span><span class="n">buf2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">buf1</span><span class="o">.</span><span class="n">to_array</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_94_0.svg" src="../../../_images/autogen_notebooks_supercollider-objects_buffer-examples_94_0.svg"/></div>
</div>
<p>Here we copy 100 samples of <code class="docutils literal notranslate"><span class="pre">buf2</span></code> at starting pos 1 to buf3 at position 2. Use a negative amount of samples to copy all available samples</p>
</section>
</section>
<section id="Get-information-about-the-Buffer">
<h2>Get information about the Buffer<a class="headerlink" href="#Get-information-about-the-Buffer" title="Link to this heading"></a></h2>
<p>Information about the buffer object:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf3</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(132) on ('127.0.0.1', 57110): 1 x 110250 @ 44100 Hz = 2.500s allocated using mode 'alloc'&gt;
</pre></div></div>
</div>
<p>Information about the buffer in SC</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>buf3.query<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf3</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
BufferInfo(bufnum=132, num_frames=110250, num_channels=1, sample_rate=44100.0)
</pre></div></div>
</div>
</section>
<section id="Free-Buffers">
<h2>Free Buffers<a class="headerlink" href="#Free-Buffers" title="Link to this heading"></a></h2>
<p>start with a buffer</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">Buffer</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">example_file</span><span class="p">)</span>
<span class="n">buf</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(146) on ('127.0.0.1', 57110): 2 x 43008 @ 44100 Hz = 0.975s allocated using mode 'file'&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>  <span class="c1"># works as intended</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
BufferInfo(bufnum=146, num_frames=43008, num_channels=2, sample_rate=44100.0)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">buf</span>  <span class="c1"># listed as not loaded, python Buffer instance still exists</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Buffer(146) on ('127.0.0.1', 57110): 2 x 43008 @ 44100 Hz = 0.975s not loaded using mode 'none'&gt;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">buf</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>  <span class="c1"># raises an error after buf.free</span>
<span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Buffer query on freed buffer should raise RuntimeError"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sc</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Quitting SCServer... Done.
Exiting sclang... [scsynth | reached EOF ]
[sclang | reached EOF ]
Done.
</pre></div></div>
</div>
</section>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="synthdef-examples.html" rel="prev" title="SynthDef"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="bus-examples.html" rel="next" title="Bus">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright 2021, Thomas Hermann, Dennis Reinsch.
      <span class="commit">Revision <code>6ce4908bb3</code>.
      </span></p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<div aria-label="versions" class="rst-versions" data-toggle="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span class="fa fa-book"> Read the Docs</span>
      v: 1.1.0^0
      <span class="fa fa-caret-down"></span>
</span>
<div class="rst-other-versions">
<dl><dt>Versions</dt><dd><a href="https://interactive-sonification.github.io/sc3nb/stable/">stable</a></dd><dd><a href="https://interactive-sonification.github.io/sc3nb/develop/">develop</a></dd><dd><a href="https://interactive-sonification.github.io/sc3nb/1.0.1/">1.0.1</a></dd><dd><a href="https://interactive-sonification.github.io/sc3nb/master/">master</a></dd><dd><a href="https://interactive-sonification.github.io/sc3nb/v1.1.0/">v1.1.0</a></dd><dd><a href="https://interactive-sonification.github.io/sc3nb/v1.0.2/">v1.0.2</a></dd></dl>
</div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>